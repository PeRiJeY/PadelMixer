<form [formGroup]="form" (ngSubmit)="onSubmit()" class="player-form">
  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="nombre" placeholder="Juan">
      <mat-icon matPrefix>person</mat-icon>
      <mat-error>{{ getErrorMessage('nombre') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Apellidos</mat-label>
      <input matInput formControlName="apellidos" placeholder="García López">
      <mat-error>{{ getErrorMessage('apellidos') }}</mat-error>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" placeholder="juan@example.com">
      <mat-icon matPrefix>email</mat-icon>
      <mat-error>{{ getErrorMessage('email') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Teléfono</mat-label>
      <input matInput formControlName="telefono" placeholder="612345678">
      <mat-icon matPrefix>phone</mat-icon>
      <mat-error>{{ getErrorMessage('telefono') }}</mat-error>
      <mat-hint>9 dígitos sin espacios</mat-hint>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Fecha de Nacimiento</mat-label>
      <input 
        matInput 
        [matDatepicker]="picker" 
        formControlName="fechaNacimiento"
        [max]="maxDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error>{{ getErrorMessage('fechaNacimiento') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Nivel de Juego</mat-label>
      <mat-select formControlName="nivelJuego">
        <mat-option *ngFor="let nivel of niveles" [value]="nivel.value">
          {{ nivel.label }}
        </mat-option>
      </mat-select>
      <mat-icon matPrefix>stars</mat-icon>
      <mat-error>{{ getErrorMessage('nivelJuego') }}</mat-error>
    </mat-form-field>
  </div>

  <mat-form-field appearance="outline" class="form-field-full">
    <mat-label>Observaciones</mat-label>
    <textarea 
      matInput 
      formControlName="observaciones" 
      rows="4"
      placeholder="Información adicional sobre el jugador..."></textarea>
    <mat-error>{{ getErrorMessage('observaciones') }}</mat-error>
    <mat-hint align="end">{{ form.get('observaciones')?.value?.length || 0 }} / 500</mat-hint>
  </mat-form-field>

  <div class="form-actions">
    <button 
      mat-raised-button 
      type="button"
      (click)="onCancel()">
      Cancelar
    </button>
    <button 
      mat-raised-button 
      color="primary"
      type="submit"
      [disabled]="form.invalid">
      <mat-icon>save</mat-icon>
      {{ submitLabel }}
    </button>
  </div>
</form>
